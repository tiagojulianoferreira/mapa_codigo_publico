<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repositórios de Instituições Federais</title>
    <link rel="stylesheet" href="styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-university"></i> Repositórios de Instituições Federais no GitHub</h1>
        </div>
    </header>

    <main class="container">
        <section class="filters-section card">
            <h2><i class="fas fa-filter"></i> Filtros de Busca</h2>
            <div class="filters-grid">
                <div class="filter-group">
                    <label for="generalSearchInput">Buscar:</label>
                    <input type="text" id="generalSearchInput" placeholder="Instituição, repositório, descrição...">
                </div>
                
                <div class="filter-group">
                    <label for="languageFilter">Linguagem:</label>
                    <select id="languageFilter">
                        <option value="">Todas</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label for="licenseFilter">Licença:</label>
                    <select id="licenseFilter">
                        <option value="">Todas</option>
                    </select>
                </div>
                
                <div class="filter-group filter-actions">
                    <button id="clearFilters" class="btn-clear"><i class="fas fa-broom"></i> Limpar Filtros</button>
                </div>
            </div>
        </section>

        <section class="global-stats-section card">
            <h2><i class="fas fa-chart-bar"></i> Estatísticas Globais (com filtros aplicados)</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <h3>Total de Repositórios</h3>
                    <p id="totalReposGlobal">0</p>
                </div>
                <div class="stat-item">
                    <h3>Linguagem Mais Usada</h3>
                    <p id="mostUsedLanguageGlobal">N/A</p>
                </div>
                <div class="stat-item">
                    <h3>Licença Mais Usada</h3>
                    <p id="mostUsedLicenseGlobal">N/A</p>
                </div>
                <div class="stat-item">
                    <h3>Repositórios Exibidos</h3>
                    <p id="filteredReposCount">0</p>
                </div>
            </div>
        </section>

        <section class="top-languages-section card">
            <h2><i class="fas fa-code"></i> Top 10 Linguagens Mais Utilizadas (no Dataset)</h2>
            <div class="table-responsive">
                <table id="topLanguagesTable">
                    <thead>
                        <tr>
                            <th>Posição</th>
                            <th>Linguagem de Programação</th>
                            <th>Número de Repositórios</th>
                        </tr>
                    </thead>
                    <tbody id="topLanguagesTbody">
                        <tr><td colspan="3" class="loading-message">Carregando linguagens...</td></tr>
                    </tbody>
                </table>
            </div>
            <p id="noTopLanguagesMessage" class="hidden">Nenhuma linguagem principal encontrada.</p>
        </section>

        <section class="top-repos-section card">
            <h2><i class="fas fa-fire"></i> Top 10 Repositórios Mais Ativos (Global)</h2>
            <div class="table-responsive">
                <table id="topReposTable">
                    <thead>
                        <tr>
                            <th>Repositório</th>
                            <th>Instituição</th>
                            <th>Linguagem</th>
                            <th>Estrelas</th>
                            <th>Última Atualização</th>
                        </tr>
                    </thead>
                    <tbody id="topReposTbody">
                        <tr><td colspan="5" class="loading-message">Carregando Top Repositórios...</td></tr>
                    </tbody>
                </table>
            </div>
            <p id="noTopReposMessage" class="hidden">Nenhum repositório ativo encontrado.</p>
        </section>

        <section class="cluster-info-section card">
            <h2><i class="fas fa-cubes"></i> Clusters Identificados</h2>
            <p class="disclaimer">
                **Aviso:** Clusterização em construção (NLP, K-Means, HDBSCAN, embeddings).
            </p>
            <div class="table-responsive">
                <table id="clustersTable">
                    <thead>
                        <tr>
                            <th>ID do Cluster</th>
                            <th>Observações</th>
                        </tr>
                    </thead>
                    <tbody id="clustersTbody">
                        <tr><td colspan="2" class="loading-message">Carregando clusters...</td></tr>
                    </tbody>
                </table>
            </div>
            <p id="noClustersMessage" class="hidden">Nenhum cluster identificado.</p>
        </section>

        <section class="results-section card">
            <h2><i class="fas fa-list-alt"></i> Todos os Repositórios</h2>
            <div class="table-responsive">
                <table id="allReposTable">
                    <thead>
                        <tr>
                            <th data-sort-key="Nome do Repositório" data-sort-type="string">Repositório <i class="fas fa-sort"></i></th>
                            <th data-sort-key="SiglaInstituicao" data-sort-type="string">Instituição <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Descricao" data-sort-type="string">Descrição <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Linguagem Principal" data-sort-type="string">Linguagem <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Estrelas" data-sort-type="number">Estrelas <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Licenca" data-sort-type="string">Licença <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Ultima Atualizacao" data-sort-type="date">Última Atualização <i class="fas fa-sort"></i></th>
                            <th data-sort-key="Cluster_ID" data-sort-type="string">Cluster ID <i class="fas fa-sort"></i></th>
                        </tr>
                        <tr id="filterRow">
                            <th><input type="text" class="filter-input" data-filter-key="Nome do Repositório" placeholder="Filtrar nome"></th>
                            <th><input type="text" class="filter-input" data-filter-key="SiglaInstituicao" placeholder="Filtrar inst."></th>
                            <th><input type="text" class="filter-input" data-filter-key="Descricao" placeholder="Filtrar desc."></th>
                            <th><input type="text" class="filter-input" data-filter-key="Linguagem Principal" placeholder="Filtrar ling."></th>
                            <th><input type="text" class="filter-input" data-filter-key="Estrelas" placeholder="Filtrar estrelas"></th>
                            <th><input type="text" class="filter-input" data-filter-key="Licenca" placeholder="Filtrar lic."></th>
                            <th><input type="text" class="filter-input" data-filter-key="Ultima Atualizacao" placeholder="Filtrar data"></th>
                            <th><input type="text" class="filter-input" data-filter-key="Cluster_ID" placeholder="Filtrar cluster"></th>
                        </tr>
                    </thead>
                    <tbody id="allReposTbody">
                        <tr><td colspan="8" class="loading-message">Carregando todos os repositórios...</td></tr>
                    </tbody>
                </table>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Mapeamento de Repositórios. Dados do <a href="https://github.com" target="_blank">GitHub</a>.</p>
        </div>
    </footer>

    <script src="scripts.min.js"></script>
</body>
</html>